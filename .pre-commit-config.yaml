exclude: |
  (?x)^(
      .*\{\{.*\}\}.*|     # Exclude any files with cookiecutter variables
      docs/site/.*|       # Exclude mkdocs compiled files
      \.history/.*|       # Exclude history files
      .*cache.*/.*|       # Exclude cache directories
      .*venv.*/.*|        # Exclude virtual environment directories
  )$
fail_fast: false
default_language_version:
  python: python3.12
default_install_hook_types:
  - pre-commit
  - commit-msg
repos:
  - repo: https://github.com/gitleaks/gitleaks
    rev: 6eaad039603a4de39fddd1cf5f727391efe9974e # frozen: v8.30.0
    hooks:
      - id: gitleaks
        name: "ğŸ”’ Security Â· GitLeaks Â· Detect hardcoded secrets"

  - repo: https://github.com/astral-sh/ruff-pre-commit
    rev: 9b1e9a33f1b33f6ecc2fdbb8d7cc894e951106e4 # frozen: v0.14.13
    hooks:
      - id: ruff-format
        name: "ğŸ Python Â· Ruff Â· Code formatting"
      - id: ruff-check
        name: "ğŸ Python Â· Ruff Â· Linting"

  - repo: https://github.com/abravalheri/validate-pyproject
    rev: 78f5e0f104cfa803d0597eaa924b4de3becd3e3e # frozen: v0.24.1
    hooks:
      - id: validate-pyproject
        name: "ğŸ Python Â· Validate pyproject.toml"
        additional_dependencies: ["validate-pyproject-schema-store[all]"]

  - repo: https://github.com/pre-commit/mirrors-mypy
    rev: a66e98df7b4aeeb3724184b332785976d062b92e # frozen: v1.19.1
    hooks:
      - id: mypy
        name: "ğŸ Python Â· mypy Â· Check static types"
        args:
          - --strict
          - --show-error-codes
          - --show-error-context
          - --show-column-numbers
        additional_dependencies:
          - attrs
          - flask
          - furl
          - jwskate
          - pytest_examples
          - pytest-freezer
          - pytest-mock
          - pytest-mypy
          - requests_mock
          - types-requests

  - repo: https://github.com/python-jsonschema/check-jsonschema
    rev: 0fe8648804a32455c690e0519c217f8cee6a48c6 # frozen: 0.36.0
    hooks:
      - id: check-github-workflows
        name: "ğŸ™ Github-Actions Â· Validate gh workflow files"
        args: ["--verbose"]

  - repo: https://github.com/hukkin/mdformat
    rev: 82912cdaea4fb830f751504486a7879c70526547 # frozen: 1.0.0
    hooks:
      - id: mdformat
        name: "ğŸ“ Markdown Â· Format markdown"
        args:
          - --wrap=120
        additional_dependencies:
          - mdformat-gfm
          - mdformat-ruff
          - ruff

  - repo: https://github.com/shellcheck-py/shellcheck-py
    rev: 745eface02aef23e168a8afb6b5737818efbea95 # frozen: v0.11.0.1
    hooks:
      - id: shellcheck
        name: "ğŸš Shell Â· shellcheck Â· Lint shell scripts"

  - repo: https://github.com/openstack/bashate
    rev: fbd7c2534c2701351c603ff700ddf08202430a31 # frozen: 2.1.1
    hooks:
      - id: bashate
        name: "ğŸš Shell Â· bashate Â· Check shell script code style"
        args: [--max-line-length, "120"]

  - repo: https://github.com/jvllmr/pre-commit-prettier
    rev: c6c4f2c09b36f023c17d43bce4d86b8aa3b09493 # frozen: v3.8.1
    hooks:
      - id: prettier
        name: "âœ¨ Misc Â· prettier Â· Format misc web files"
        types_or: [yaml, html, scss]
        additional_dependencies:
          - prettier@3.7.4

  - repo: https://github.com/pre-commit/pre-commit-hooks
    rev: 3e8a8703264a2f4a69428a0aa4dcb512790b2c8c # frozen: v6.0.0
    hooks:
      - id: check-executables-have-shebangs
        name: "ğŸ“ filesystem/âš™ï¸ exec Â· Verify shebang presence"
      - id: check-shebang-scripts-are-executable
        name: "ğŸ“ filesystem/âš™ï¸ exec Â· Verify script permissions"
      - id: check-case-conflict
        name: "ğŸ“ filesystem/ğŸ“ names Â· Check case sensitivity"
      - id: check-illegal-windows-names
        name: "ğŸ“ filesystem/ğŸ“ names Â· Validate Windows filenames"
      - id: check-symlinks
        name: "ğŸ“ filesystem/ğŸ”— symlink Â· Check symlink validity"
      - id: destroyed-symlinks
        name: "ğŸ“ filesystem/ğŸ”— symlink Â· Detect broken symlinks"
      - id: check-merge-conflict
        name: "ğŸŒ³ git Â· Detect conflict markers"
      - id: forbid-new-submodules
        name: "ğŸŒ³ git Â· Prevent submodule creation"
      - id: no-commit-to-branch
        name: "ğŸŒ³ git Â· Protect main branches"
        args: ["--branch", "main", "--branch", "master"]
      - id: check-added-large-files
        name: "ğŸŒ³ git Â· Block large file commits"
        args: ["--maxkb=5000"]

  - repo: https://github.com/commitizen-tools/commitizen
    rev: 5857050259653556030b6b1f19f53e8868a427f6 # frozen: v4.12.1
    hooks:
      - id: commitizen
        name: "ğŸŒ³ git Â· Validate commit message"
        stages: [commit-msg]
        additional_dependencies: [cz-conventional-gitmoji]

  - repo: https://github.com/codespell-project/codespell
    rev: 63c8f8312b7559622c0d82815639671ae42132ac # frozen: v2.4.1
    hooks:
      - id: codespell
        name: "ğŸ’ QA Â· codespell Â· Check for common typos"
        additional_dependencies:
          - tomli
